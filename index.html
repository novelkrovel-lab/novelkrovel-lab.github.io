<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* *{
            border: 1px solid blue;
            padding: none;
            margin: 0;
        } */

        #Clicker{
            color: red;
            font-family: sans-serif;
            font-size: 64px;
            margin: 50px;
        }

        #buttoner{
            text-align: center;
        }

        #ClicksText,#AmmountOfClicks{
            font-size: 32px;
        }
    </style>
</head>
<body>
    <div>
        <h1>Welcome to clicker!!!</h1>
        Just click the button twin
    </div>

    <div id="buttoner">
        <button type="button" id="Clicker">Click me twin</button>
        <br>
        <span id="ClicksText">Clicks: </span>
        <br><br>
        <span id="AmmountOfClicks">Ammount of clicks: </span>
        <br><br>
        <button id="event1Buy">Buy +1 clicks <br> <span style="color: red;">Cost:50 Clicks</span></button>
        <button id="event2Buy">Buy *2 clicks <br> <span style="color: red;">Cost:200 Clicks</span></button>
        <button id="event3Buy">Buy ^2 clicks <br> <span style="color: red;">Cost:1000 Clicks</span></button>
    </div>

    <script>
        const ButtonClicker = document.getElementById("Clicker")
        const ClicksText = document.getElementById("ClicksText")
        const AmmountOfClicksText = document.getElementById("AmmountOfClicks")

        const Buy1 = document.getElementById("event1Buy")
        const Buy2 = document.getElementById("event2Buy")
        const Buy3 = document.getElementById("event3Buy")

        const ConstantClicksText = "Clicks: "
        const ConstantAmmountOfClicks = "Ammount of clicks: "
        let numberOfClicks = 0
        let addAmmount = 1

        let event1 = false
        let event2 = false
        let event3 = false

        let CanBeExecuted1 = true
        let CanBeExecuted2 = true
        let CanBeExecuted3 = true

        let CanBeExecuted1_2 = true
        let CanBeExecuted2_2 = true
        let CanBeExecuted3_2 = true

        ClicksText.innerText = ConstantClicksText+numberOfClicks
        AmmountOfClicksText.innerText = ConstantAmmountOfClicks+addAmmount

        ButtonClicker.onclick = function(){
            numberOfClicks += addAmmount 
            document.getElementById("ClicksText").innerText = ConstantClicksText+numberOfClicks
        }

        Buy1.onclick = function(){
            if(CanBeExecuted1==true){
                if(numberOfClicks >= 50){
                    CanBeExecuted1 = false
                    numberOfClicks -= 50
                    addAmmount += 1
                    AmmountOfClicksText.innerText = ConstantAmmountOfClicks+addAmmount
                    Buy1.innerHTML = "Bought!"
                }else{
                    if(CanBeExecuted1_2==true){
                        CanBeExecuted1_2=false
                        const TextForBuying = "Not enough Clicks"
                        let OldText = Buy1.innerText
                        Buy1.innerText = TextForBuying
                        setTimeout(function(){
                            Buy1.innerText = OldText
                        },1000)
                        CanBeExecuted1_2=true
                    }
                }
            }
        }

        Buy2.onclick = function(){
            if(CanBeExecuted2==true){
                if(numberOfClicks >= 200){
                    CanBeExecuted2 = false
                    numberOfClicks -= 200
                    addAmmount *= 2
                    AmmountOfClicksText.innerText = ConstantAmmountOfClicks+addAmmount
                    Buy2.innerHTML = "Bought!"
                }else{
                    if(CanBeExecuted2_2==true){
                        CanBeExecuted2_2=false
                        const TextForBuying = "Not enough Clicks"
                        let OldText = Buy2.innerText
                        Buy2.innerText = TextForBuying
                        setTimeout(function(){
                            Buy2.innerText = OldText
                        },1000)
                        CanBeExecuted2_2=true
                    }
                }
            }
        }

        Buy3.onclick = function(){
            if(CanBeExecuted3==true){
                if(numberOfClicks >= 1000){
                    CanBeExecuted3 = false
                    numberOfClicks -= 1000
                    addAmmount = addAmmount^2
                    AmmountOfClicksText.innerText = ConstantAmmountOfClicks+addAmmount
                    ClicksText.innerText = ConstantClicksText+numberOfClicks
                    Buy3.innerHTML = "Bought!"
                }else{
                    if(CanBeExecuted3_2==true){
                        CanBeExecuted3_2=false
                        const TextForBuying = "Not enough Clicks"
                        let OldText = Buy3.innerText
                        Buy3.innerText = TextForBuying
                        setTimeout(function(){
                            Buy3.innerText = OldText
                        },1000)
                        CanBeExecuted3_2=true
                    }
                }
            }
        }

        function saveData(){
            const Clicks = numberOfClicks
            const AmmountOfClicks = addAmmount
            const event1 = event1
            const event2 = event2
            const event3 = event3

            localStorage.setItem(`Clicks`,Clicks)
            localStorage.setItem(`AmmountOfClicks`,AmmountOfClicks)
            localStorage.setItem(`event1`,event1)
            localStorage.setItem(`event2`,event2)
            localStorage.setItem(`event3`,event3)

            displaySavedData()
        }

        function displaySavedData(){
            const SClicks = localStorage.getItem(`Clicks`)
            const SAddAmmount = localStorage.getItem(`AmmountOfClicks`,)
            const Sevent1 = localStorage.getItem(`event1`)
            const Sevent2 = localStorage.getItem(`event2`)
            const Sevent3 = localStorage.getItem(`event3`)

            if(SClicks && SAddAmmount && Sevent1 && Sevent2 && Sevent3){
                numberOfClicks = SClicks
                addAmmount = SAddAmmount

            }else{
                console.log("Nothing was saved bro")
            }
        }

        window.onload = displaySavedData()
        window.onbeforeunload = saveData()
    </script>
</body>
</html>
